CREATE DATABASE db1;
USE db1;

CREATE TABLE students (
    student_id INT PRIMARY KEY,
    name VARCHAR(100),
    fees DECIMAL(10,2)
);

INSERT INTO students VALUES
(1, 'Alice', 20000),
(2, 'Bob', 18000),
(3, 'Charlie', 22000),
(4, 'David', 25000);

SELECT * FROM students;

DELIMITER $$
CREATE PROCEDURE raise_fees(IN percent_increase DECIMAL(5,2))
BEGIN
    UPDATE students
    SET fees = fees + (fees * percent_increase / 100);
    SELECT 'Fees Updated Successfully' AS Message;
END $$
DELIMITER ;

CALL raise_fees(10);

SELECT * FROM students;

DELIMITER $$
CREATE FUNCTION student_status(student_id INT)
RETURNS VARCHAR(50)
READS SQL DATA
BEGIN
    DECLARE fee_amount DECIMAL(10,2);
    DECLARE status VARCHAR(50);
    SELECT fees INTO fee_amount FROM students WHERE students.student_id = student_id;
    IF fee_amount >= 25000 THEN
        SET status = 'Premium Student';
    ELSEIF fee_amount BETWEEN 20000 AND 24999 THEN
        SET status = 'Regular Student';
    ELSE
        SET status = 'Economy Student';
    END IF;
    RETURN status;
END $$
DELIMITER ;

SELECT student_status(1) AS Status_For_Alice;
SELECT student_status(2) AS Status_For_Bob;
SELECT student_status(4) AS Status_For_David;
